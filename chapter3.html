

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>3. Loops, Program Syntax, and Miscellany &#8212; Stata Programming</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'chapter3';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="4. Advanced file management" href="chapter4.html" />
    <link rel="prev" title="2. Return values, macros, programs" href="chapter2.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
    
    
      
    
    
    <img src="https://brand.jhu.edu/assets/uploads/sites/5/2014/06/university_logo_small_vertical_blue.png" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="https://brand.jhu.edu/assets/uploads/sites/5/2014/06/university_logo_small_vertical_blue.png" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Preface
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="chapter1.html">1. Philosophy, overview, commands, syntax</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter2.html">2. Return values, macros, programs</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">3. Loops, Program Syntax, and Miscellany</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter4.html">4. Advanced file management</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter5.html">5. Graphs</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter6.html">6. Review of Weeks 1-5</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter7.html">7. Survival Analysis: Non-parametric, Semi-parametric, Parametric</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter8.html">8. Multilevel, Hierarchical Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickrefs.html">Quick References</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2Fchapter3.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/chapter3.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>3. Loops, Program Syntax, and Miscellany</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#loops">3.1 Loops</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#forvalues">3.1.1 Forvalues</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#what-this-does">What This Does</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#why-it-s-useful">Why It’s Useful</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#but-here-s-the-catch">But Here’s the Catch</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#foreach">3.1.2 Foreach</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#program-syntax">3.2 Program Syntax</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#myfirst">3.2.1 myfirst</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mysecond">3.2.2 mysecond</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mythird">3.2.3 mythird</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#myfourth">3.2.4. myfourth</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#miscellany">3.3 Miscellany</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#data-formats-and-corresponding-commands">3.3.0 Data formats and corresponding commands</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#xlxs"><code class="docutils literal notranslate"><span class="pre">.xlxs</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#csv"><code class="docutils literal notranslate"><span class="pre">.csv</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sav"><code class="docutils literal notranslate"><span class="pre">.sav</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sas7bdat"><code class="docutils literal notranslate"><span class="pre">.sas7bdat</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#jdbc">JDBC</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#obdc">OBDC</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#txt"><code class="docutils literal notranslate"><span class="pre">.txt</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#v8xpt-xpt"><code class="docutils literal notranslate"><span class="pre">.v8xpt</span></code>, <code class="docutils literal notranslate"><span class="pre">.xpt</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#fred">FRED</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dbf"><code class="docutils literal notranslate"><span class="pre">.dbf</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#commands-that-run-without-additional-syntax">3.3.1 Commands that run without additional syntax</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#anatomy-of-a-command-with-syntax">3.3.2 Anatomy of a command with syntax</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#taking-on-one-or-more-options">3.3.3 Taking on one or more options</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#some-command-options-take-arguments-describing-the-options">3.3.4 Some command options take arguments describing the options</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#involving-file-name-usually-preceeded-by-using-or-delimited">3.3.5 Involving file name, usually preceeded by <code class="docutils literal notranslate"><span class="pre">using</span></code> or <code class="docutils literal notranslate"><span class="pre">delimited</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#manipulating-data-with-conditional-statements">3.3.6 Manipulating data with conditional statements</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-log-command">3.3.7 The <code class="docutils literal notranslate"><span class="pre">log</span></code> command</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#stuff-that-belongs-in-every-do-file">3.3.7 Stuff that belongs in every <code class="docutils literal notranslate"><span class="pre">.do</span></code> file</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#use-github-to-manage-versions-of-your-do-and-ado-files">3.3.8 Use GitHub to manage versions of your <code class="docutils literal notranslate"><span class="pre">.do</span></code> and <code class="docutils literal notranslate"><span class="pre">ado.</span></code> files</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#loading-a-file-into-memory">3.3.9 Loading a file into memory</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#describe">3.3.10 Describe</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#codebook">3.3.12 Codebook</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#list">3.3.13 List</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#count">3.3.14 Count</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tabulate">3.3.15 Tabulate</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#summarize">3.3.16 Summarize</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#missingness">3.3.17 Missingness</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#generate">3.3.18 Generate</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#more-for-your-practice">3.3.19 More for your practice</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#preserve-restore">3.3.20 Preserve, restore</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#by-command">3.3.21 By command</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#more-on-return-values">3.3.22 More on return values</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#line-continuation">3.3.23 Line continuation</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#labels">3.3.24 Labels</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tagging">3.3.25 Tagging</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#drop-keep">3.3.26 Drop, Keep</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">3.3.27 Drop, keep</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#replace">3.3.28 Replace</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#rename">3.3.29 Rename</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sort-gsort">3.3.30 Sort, <code class="docutils literal notranslate"><span class="pre">gsort</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#recode">3.3.31 Recode</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#display">3.3.32 Display</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#capture">3.3.33 Capture</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#assert">3.3.34 Assert</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#scalars-macros-matrices">3.3.35 Scalars, macros, matrices</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">3.3.36 Scalars, macros, matrices</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#r-class-commands">3.3.37 R-class commands</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#lab">3.4 Lab</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#homework">3.5 Homework</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#overview">Overview</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#common-mistakes-from-hw1">Common Mistakes from HW1</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="loops-program-syntax-and-miscellany">
<h1>3. Loops, Program Syntax, and Miscellany<a class="headerlink" href="#loops-program-syntax-and-miscellany" title="Permalink to this heading">#</a></h1>
<div class="cell tag_hide-input docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell source</span>
<span class="expanded">Hide code cell source</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">networkx</span> <span class="k">as</span> <span class="nn">nx</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="c1">#import numpy as np</span>
<span class="c1">#import sklearn as skl</span>
<span class="c1"># </span>

<span class="c1">#plt.figure(figsize=[2, 2])</span>
<span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">DiGraph</span><span class="p">()</span>
<span class="n">G</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="s2">&quot;user&quot;</span><span class="p">,</span>  <span class="n">pos</span> <span class="o">=</span> <span class="p">(</span><span class="mi">550</span><span class="p">,</span><span class="mi">500</span><span class="p">)</span> <span class="p">)</span>
<span class="n">G</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="s2">&quot;system&quot;</span><span class="p">,</span>  <span class="n">pos</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="mi">550</span><span class="p">,</span><span class="mi">500</span><span class="p">)</span> <span class="p">)</span>
<span class="n">G</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="s2">&quot;program&quot;</span><span class="p">,</span>  <span class="n">pos</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="mi">2000</span><span class="p">,</span> <span class="mi">960</span><span class="p">)</span> <span class="p">)</span>
<span class="n">G</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="s2">&quot;syntax&quot;</span><span class="p">,</span>  <span class="n">pos</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2000</span><span class="p">,</span> <span class="mi">950</span><span class="p">)</span> <span class="p">)</span>
<span class="n">G</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="s2">&quot;ado&quot;</span><span class="p">,</span> <span class="n">pos</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="mi">3000</span><span class="p">,</span> <span class="mi">550</span><span class="p">)</span> <span class="p">)</span>
<span class="n">G</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="s2">&quot;do&quot;</span><span class="p">,</span> <span class="n">pos</span> <span class="o">=</span> <span class="p">(</span><span class="mi">3000</span><span class="p">,</span> <span class="mi">550</span><span class="p">)</span> <span class="p">)</span>
<span class="n">G</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="s2">&quot;command&quot;</span><span class="p">,</span> <span class="n">pos</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="mi">1900</span><span class="p">,</span> <span class="mi">150</span><span class="p">)</span> <span class="p">)</span>
<span class="n">G</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="s2">&quot;queue&quot;</span><span class="p">,</span> <span class="n">pos</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1900</span><span class="p">,</span> <span class="mi">150</span><span class="p">)</span> <span class="p">)</span>
<span class="n">G</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="s2">&quot;results&quot;</span><span class="p">,</span> <span class="n">pos</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span>
<span class="n">G</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="s2">&quot;dta&quot;</span><span class="p">,</span> <span class="n">pos</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">475</span><span class="p">))</span>
<span class="n">G</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="s2">&quot;log&quot;</span><span class="p">,</span> <span class="n">pos</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="mi">1900</span><span class="p">,</span> <span class="o">-</span><span class="mi">475</span><span class="p">))</span>
<span class="n">G</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="s2">&quot;excel&quot;</span><span class="p">,</span> <span class="n">pos</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="mi">4000</span><span class="p">,</span> <span class="o">-</span><span class="mi">475</span><span class="p">))</span>
<span class="n">G</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="s2">&quot;word&quot;</span><span class="p">,</span> <span class="n">pos</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1900</span><span class="p">,</span> <span class="o">-</span><span class="mi">475</span><span class="p">))</span>
<span class="n">G</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="s2">&quot;html&quot;</span><span class="p">,</span> <span class="n">pos</span> <span class="o">=</span> <span class="p">(</span><span class="mi">4000</span><span class="p">,</span> <span class="o">-</span><span class="mi">475</span><span class="p">))</span>
<span class="n">G</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="s2">&quot;publish&quot;</span><span class="p">,</span> <span class="n">pos</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">950</span><span class="p">))</span>
<span class="n">G</span><span class="o">.</span><span class="n">add_edges_from</span><span class="p">([</span> <span class="p">(</span><span class="s2">&quot;program&quot;</span><span class="p">,</span><span class="s2">&quot;ado&quot;</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;syntax&quot;</span><span class="p">,</span> <span class="s2">&quot;do&quot;</span><span class="p">)])</span>
<span class="n">G</span><span class="o">.</span><span class="n">add_edges_from</span><span class="p">([(</span><span class="s2">&quot;ado&quot;</span><span class="p">,</span> <span class="s2">&quot;command&quot;</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;do&quot;</span><span class="p">,</span> <span class="s2">&quot;queue&quot;</span><span class="p">)</span> <span class="p">])</span>
<span class="n">G</span><span class="o">.</span><span class="n">add_edges_from</span><span class="p">([(</span><span class="s2">&quot;command&quot;</span><span class="p">,</span> <span class="s2">&quot;results&quot;</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;queue&quot;</span><span class="p">,</span> <span class="s2">&quot;results&quot;</span><span class="p">),(</span><span class="s2">&quot;results&quot;</span><span class="p">,</span><span class="s2">&quot;excel&quot;</span><span class="p">),(</span><span class="s2">&quot;results&quot;</span><span class="p">,</span><span class="s2">&quot;word&quot;</span><span class="p">),(</span><span class="s2">&quot;results&quot;</span><span class="p">,</span><span class="s2">&quot;html&quot;</span><span class="p">)])</span>
<span class="n">G</span><span class="o">.</span><span class="n">add_edges_from</span><span class="p">([(</span><span class="s2">&quot;results&quot;</span><span class="p">,</span><span class="s2">&quot;dta&quot;</span><span class="p">),(</span><span class="s2">&quot;results&quot;</span><span class="p">,</span><span class="s2">&quot;log&quot;</span><span class="p">)])</span>
<span class="n">G</span><span class="o">.</span><span class="n">add_edges_from</span><span class="p">([(</span><span class="s2">&quot;dta&quot;</span><span class="p">,</span><span class="s2">&quot;publish&quot;</span><span class="p">),(</span><span class="s2">&quot;log&quot;</span><span class="p">,</span><span class="s2">&quot;publish&quot;</span><span class="p">),(</span><span class="s2">&quot;excel&quot;</span><span class="p">,</span><span class="s2">&quot;publish&quot;</span><span class="p">),(</span><span class="s2">&quot;word&quot;</span><span class="p">,</span><span class="s2">&quot;publish&quot;</span><span class="p">),(</span><span class="s2">&quot;html&quot;</span><span class="p">,</span><span class="s2">&quot;publish&quot;</span><span class="p">)])</span>
<span class="n">nx</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> 
        <span class="n">nx</span><span class="o">.</span><span class="n">get_node_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s1">&#39;pos&#39;</span><span class="p">),</span> 
        <span class="n">with_labels</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> 
        <span class="n">font_weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> 
        <span class="n">node_size</span> <span class="o">=</span> <span class="mi">4500</span><span class="p">,</span>
        <span class="n">node_color</span> <span class="o">=</span> <span class="s2">&quot;lightblue&quot;</span><span class="p">,</span>
        <span class="n">linewidths</span> <span class="o">=</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">ax</span><span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">collections</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_edgecolor</span><span class="p">(</span><span class="s2">&quot;#000000&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">([</span><span class="o">-</span><span class="mi">5000</span><span class="p">,</span> <span class="mi">5000</span><span class="p">])</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">([</span><span class="o">-</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">1000</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</details>
<div class="cell_output docutils container">
<img alt="_images/68b0bc74161d7710f53566e5ee9be406db910130ddbc8f918781f1977ed8e80e.png" src="_images/68b0bc74161d7710f53566e5ee9be406db910130ddbc8f918781f1977ed8e80e.png" />
</div>
</div>
<p>By now you should be aware that our key ambitions are to:</p>
<ol class="arabic simple">
<li><p>Learn the commands and syntax that generate output, typically for statistical inference</p></li>
<li><p>Identify the names of the <code class="docutils literal notranslate"><span class="pre">c()</span></code>, <code class="docutils literal notranslate"><span class="pre">r()</span></code>, or <code class="docutils literal notranslate"><span class="pre">e()</span></code> class <u>system-defined</u> macros that define key parameters in our output</p></li>
<li><p>Format these values to fit aesthetic, publication, or editorial criteria and save them as <u>user-defined</u> macros</p></li>
<li><p>Embed the macros into text, graph, or file (.xlsx, .log, .dta, .docx, .html)</p></li>
<li><p>Achieve these aims in a workflow that is automated, collaborative, open, reproducible, legible, user-friendly, and therefore <strong>rigorous</strong></p></li>
</ol>
<p>Today we are going to focus on commands and syntax that exponentially increase our efficiency in coding, a key step towards automation. One way to achieve this is by learning about loops. The other is by writing flexible programs that are driven by user-defined inputs. We’ll also include miscellaneous code-snippets that you’ll incorporate into your loops and programs. Please look out for the <code class="docutils literal notranslate"><span class="pre">macros</span></code> that emerge when you define a loop (e.g. <code class="docutils literal notranslate"><span class="pre">i</span></code>) or program (e.g. <code class="docutils literal notranslate"><span class="pre">varname</span></code>)</p>
<section id="loops">
<h2>3.1 Loops<a class="headerlink" href="#loops" title="Permalink to this heading">#</a></h2>
<section id="forvalues">
<h3>3.1.1 Forvalues<a class="headerlink" href="#forvalues" title="Permalink to this heading">#</a></h3>
<p>In the realm of data analysis, especially when dealing with repetitive tasks, loops are your steadfast allies. They save time, reduce errors, and make your code cleaner. Consider the following Stata code snippet:</p>
<div class="highlight-stata notranslate"><div class="highlight"><pre><span></span><span class="k">forvalues</span> i = <span class="m">1</span><span class="o">/</span><span class="m">26</span> {
<span class="k">    di</span> <span class="nv">`i&#39;</span>
}
</pre></div>
</div>
<section id="what-this-does">
<h4>What This Does<a class="headerlink" href="#what-this-does" title="Permalink to this heading">#</a></h4>
<p>This loop iterates over a series of numbers—from 1 to 26, in this case. For each iteration, it executes the command <code class="docutils literal notranslate"><span class="pre">di</span></code> (short for “display”), printing the current value of <code class="docutils literal notranslate"><span class="pre">i</span></code> to the screen. At its core, this is a demonstration of Stata’s <code class="docutils literal notranslate"><span class="pre">forvalues</span></code> command, a powerful tool for numeric iterations.</p>
</section>
<section id="why-it-s-useful">
<h4>Why It’s Useful<a class="headerlink" href="#why-it-s-useful" title="Permalink to this heading">#</a></h4>
<p>Imagine you’re tasked with generating a report that requires you to repeatedly perform an action for a set range of numbers. Doing this manually is not only tedious but prone to error. By employing a loop like the one above, you automate the process, ensuring accuracy and efficiency. It’s particularly handy for batch processing of data, running simulations, or automating the generation of graphs for different subsets of your dataset.</p>
</section>
<section id="but-here-s-the-catch">
<h4>But Here’s the Catch<a class="headerlink" href="#but-here-s-the-catch" title="Permalink to this heading">#</a></h4>
<p>While loops are powerful, they come with a caveat: misuse can lead to inefficiencies or, worse, infinite loops that can crash your system or bog down your computations. Always ensure your loop has a clear exit condition. In the example provided, the exit condition is built into the <code class="docutils literal notranslate"><span class="pre">forvalues</span></code> structure, terminating the loop after reaching the number 26.</p>
</section>
</section>
<section id="foreach">
<h3>3.1.2 Foreach<a class="headerlink" href="#foreach" title="Permalink to this heading">#</a></h3>
<p>Looping through numeric ranges is just the tip of the iceberg. When you’re knee-deep in data analysis, more often than not, you’ll find yourself needing to apply operations across numerous variables within your dataset. Here’s where the <code class="docutils literal notranslate"><span class="pre">foreach</span></code> loop comes into play, showcasing its versatility:</p>
<div class="highlight-stata notranslate"><div class="highlight"><pre><span></span><span class="k">use</span> transplants,<span class="k"> clear</span>
<span class="k">foreach</span> v of<span class="k"> varlist</span> <span class="o">*</span> {
<span class="k">	di</span> <span class="s">&quot;</span><span class="nv">`v&#39;</span><span class="s">&quot;</span>
}
</pre></div>
</div>
<p>Notice the subtle difference between the above code snippet and the one below:</p>
<div class="highlight-stata notranslate"><div class="highlight"><pre><span></span><span class="k">use</span> transplants,<span class="k"> clear</span>
<span class="k">foreach</span> v of<span class="k"> varlist</span> <span class="o">*</span> {
<span class="k">	di</span> <span class="nv">`v&#39;</span>
}
</pre></div>
</div>
<p>Type <code class="docutils literal notranslate"><span class="pre">list</span> <span class="pre">in</span> <span class="pre">1</span></code> to make sense of the above output. Are you interested in this output? How about trying something even more subtle:</p>
<div class="highlight-stata notranslate"><div class="highlight"><pre><span></span><span class="k">use</span> transplants,<span class="k"> clear</span>
<span class="k">foreach</span> v of<span class="k"> varlist</span> <span class="o">*</span> {
    <span class="c1">// To display the variable label instead</span>
<span class="k">    local</span> vlabel : variable<span class="k"> label</span> <span class="nv">`v&#39;</span>
<span class="k">    di</span> <span class="s">&quot;</span><span class="nv">`vlabel&#39;</span><span class="s">&quot;</span>
}
</pre></div>
</div>
</section>
</section>
<section id="program-syntax">
<h2>3.2 Program Syntax<a class="headerlink" href="#program-syntax" title="Permalink to this heading">#</a></h2>
<p>We wrote our first program last week and it now time to build on that foundation</p>
<section id="myfirst">
<h3>3.2.1 myfirst<a class="headerlink" href="#myfirst" title="Permalink to this heading">#</a></h3>
<p>We revisit our first program here:</p>
<div class="highlight-stata notranslate"><div class="highlight"><pre><span></span><span class="k">capture program drop</span> myfirst
<span class="k">program</span> define myfirst
   cls
<span class="k">   di</span> <span class="s">&quot;Hello, class!&quot;</span>
<span class="k">end</span>
</pre></div>
</div>
<p>Type <code class="docutils literal notranslate"><span class="pre">myfirst</span></code> to execute it</p>
</section>
<section id="mysecond">
<h3>3.2.2 mysecond<a class="headerlink" href="#mysecond" title="Permalink to this heading">#</a></h3>
<p>Let our second program introduce <code class="docutils literal notranslate"><span class="pre">syntax</span> <span class="pre">varlist</span></code></p>
<div class="highlight-stata notranslate"><div class="highlight"><pre><span></span><span class="k">capture program drop</span> mysecond
<span class="k">program</span> define mysecond
<span class="k">     syntax varlist</span>
<span class="k">     di</span> <span class="s">&quot;This is my second program&quot;</span>
<span class="k">end</span>
</pre></div>
</div>
<p>Execute this program with the command. Note: it requires <strong>some</strong> syntax beyond the <code class="docutils literal notranslate"><span class="pre">mysecond</span></code> command. In this case not any syntax would do; only a list of at least one of the variables in Stata’s memory. This tells us that we also need to have a dataset in memory to use this command</p>
</section>
<section id="mythird">
<h3>3.2.3 mythird<a class="headerlink" href="#mythird" title="Permalink to this heading">#</a></h3>
<p>Our third program will perform <strong>something</strong> potentially useful</p>
<div class="highlight-stata notranslate"><div class="highlight"><pre><span></span><span class="k">capture program drop</span> mythird
<span class="k">program</span> define mythird
<span class="k">     syntax varlist</span>
<span class="k">        logistic</span> died gender 
<span class="k">end</span>
</pre></div>
</div>
<p>But notice that the code is “hardcoded” to perform stricly one task. How may we make it flexible?</p>
</section>
<section id="myfourth">
<h3>3.2.4. myfourth<a class="headerlink" href="#myfourth" title="Permalink to this heading">#</a></h3>
<div class="highlight-stata notranslate"><div class="highlight"><pre><span></span><span class="k">capture program drop</span> myfourth
<span class="k">program</span> define myfourth
<span class="k">     syntax varlist</span>
<span class="k">	 logistic</span> <span class="nv">`varlist&#39;</span>	 
<span class="k">end</span>
</pre></div>
</div>
</section>
</section>
<section id="miscellany">
<h2>3.3 Miscellany<a class="headerlink" href="#miscellany" title="Permalink to this heading">#</a></h2>
<p>In this section, we continue what was began in <code class="docutils literal notranslate"><span class="pre">lab</span> <span class="pre">1</span> <span class="pre">&amp;</span> <span class="pre">2</span></code>: expanding our Stata vocubulary. As we master Program syntax, we’ll need to write programs that give the end-user power, efficiency, and flexibility. And there is no end to this journey. Keep learning something new, and please do share anything interesting you learn with peers and colleagues. We’ll update this section each week so remain vigillant!</p>
<section id="data-formats-and-corresponding-commands">
<h3>3.3.0 Data formats and corresponding commands<a class="headerlink" href="#data-formats-and-corresponding-commands" title="Permalink to this heading">#</a></h3>
<p>You might find comfort in the familiar <code class="docutils literal notranslate"><span class="pre">.dta</span></code> format presented to you during your Epidemiology and Biostatistics classes. However, when you collaborate with other researchers within or outside your institution, there is no guarantee that <code class="docutils literal notranslate"><span class="pre">.dta</span></code> will be the format of datasets available to you. So use this as a resource to quickly reference the syntax you may need. The choices here are based on the Stata dropdown menu: <code class="docutils literal notranslate"><span class="pre">file</span> <span class="pre">&gt;</span> <span class="pre">import</span></code>. Here’s a <a class="reference external" href="https://jhustata.github.io/basic/import_data.html">resource</a> you may use. Otherwise, this section will be updated each week to offer more examples for your practice.</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">.xlxs</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.csv</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.sav</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.sas7bdat</span></code></p></li>
<li><p>JDBC data source</p></li>
<li><p>ODBC data source</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.txt</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.v8xpt</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.xpt</span></code></p></li>
<li><p>FRED</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.dbf</span></code></p></li>
</ol>
<section id="xlxs">
<h4><code class="docutils literal notranslate"><span class="pre">.xlxs</span></code><a class="headerlink" href="#xlxs" title="Permalink to this heading">#</a></h4>
<div class="highlight-stata notranslate"><div class="highlight"><pre><span></span>import excel <span class="s">&quot;https://raw.githubusercontent.com/jhustata/book/main/1-first%20gen%20antihisitamines.xlsx&quot;</span>, sheet(<span class="s">&quot;de-duplicated list&quot;</span>)<span class="k"> clear</span>
</pre></div>
</div>
</section>
<section id="csv">
<h4><code class="docutils literal notranslate"><span class="pre">.csv</span></code><a class="headerlink" href="#csv" title="Permalink to this heading">#</a></h4>
<div class="highlight-stata notranslate"><div class="highlight"><pre><span></span>import delimited <span class="s">&quot;https://raw.githubusercontent.com/jhustata/basic/main/entry_poll.csv&quot;</span>, bindquote(strict) varn(<span class="m">1</span>)<span class="k"> clear</span> 

<span class="c1">//learn more about the options</span>
<span class="k">help</span> import delimited
</pre></div>
</div>
</section>
<section id="sav">
<h4><code class="docutils literal notranslate"><span class="pre">.sav</span></code><a class="headerlink" href="#sav" title="Permalink to this heading">#</a></h4>
<p>Coming soon</p>
</section>
<section id="sas7bdat">
<h4><code class="docutils literal notranslate"><span class="pre">.sas7bdat</span></code><a class="headerlink" href="#sas7bdat" title="Permalink to this heading">#</a></h4>
<p>Coming soon</p>
</section>
<section id="jdbc">
<h4>JDBC<a class="headerlink" href="#jdbc" title="Permalink to this heading">#</a></h4>
<p>Coming soon</p>
</section>
<section id="obdc">
<h4>OBDC<a class="headerlink" href="#obdc" title="Permalink to this heading">#</a></h4>
<p>Coming soon</p>
</section>
<section id="txt">
<h4><code class="docutils literal notranslate"><span class="pre">.txt</span></code><a class="headerlink" href="#txt" title="Permalink to this heading">#</a></h4>
<div class="highlight-stata notranslate"><div class="highlight"><pre><span></span>import delimited <span class="s">&quot;https://jhustata.github.io/book/_downloads/884b9e06eb29f89b1b87da4eab39775d/hw1.txt&quot;</span>,<span class="k"> clear</span>
</pre></div>
</div>
<p>You used this for your <a class="reference external" href="https://jhustata.github.io/basic/chapter1.html#homework">HW1</a></p>
</section>
<section id="v8xpt-xpt">
<h4><code class="docutils literal notranslate"><span class="pre">.v8xpt</span></code>, <code class="docutils literal notranslate"><span class="pre">.xpt</span></code><a class="headerlink" href="#v8xpt-xpt" title="Permalink to this heading">#</a></h4>
<div class="highlight-stata notranslate"><div class="highlight"><pre><span></span>import sasxport5 <span class="s">&quot;https://wwwn.cdc.gov/Nchs/Nhanes/1999-2000/DEMO.XPT&quot;</span>,<span class="k"> clear</span>
</pre></div>
</div>
<p>Codebook available <a class="reference external" href="https://wwwn.cdc.gov/Nchs/Nhanes/1999-2000/DEMO.htm">here</a></p>
</section>
<section id="fred">
<h4>FRED<a class="headerlink" href="#fred" title="Permalink to this heading">#</a></h4>
<p>Coming soon</p>
</section>
<section id="dbf">
<h4><code class="docutils literal notranslate"><span class="pre">.dbf</span></code><a class="headerlink" href="#dbf" title="Permalink to this heading">#</a></h4>
<p>Coming soon</p>
</section>
</section>
<section id="commands-that-run-without-additional-syntax">
<h3>3.3.1 Commands that run without additional syntax<a class="headerlink" href="#commands-that-run-without-additional-syntax" title="Permalink to this heading">#</a></h3>
<p>We’ll use this familiar <code class="docutils literal notranslate"><span class="pre">.dta</span></code> dataset for most of the examples in this section</p>
<div class="highlight-stata notranslate"><div class="highlight"><pre><span></span><span class="k">use</span> transplants,<span class="k"> clear</span>
</pre></div>
</div>
<p>Learn a little more about your dataset:</p>
<div class="highlight-stata notranslate"><div class="highlight"><pre><span></span><span class="k">describe</span>
<span class="k">summarize</span>
<span class="k">exit</span> <span class="c1">//don&#39;t include in your homeworks!!</span>
</pre></div>
</div>
</section>
<section id="anatomy-of-a-command-with-syntax">
<h3>3.3.2 Anatomy of a command with syntax<a class="headerlink" href="#anatomy-of-a-command-with-syntax" title="Permalink to this heading">#</a></h3>
<div class="highlight-stata notranslate"><div class="highlight"><pre><span></span><span class="k">summarize</span> wait_yrs age
<span class="k">tab</span> rec_hcv
<span class="k">regress</span> wait_yrs age rec_hcv
</pre></div>
</div>
</section>
<section id="taking-on-one-or-more-options">
<h3>3.3.3 Taking on one or more options<a class="headerlink" href="#taking-on-one-or-more-options" title="Permalink to this heading">#</a></h3>
<div class="highlight-stata notranslate"><div class="highlight"><pre><span></span><span class="k">describe</span>, fullnames
<span class="k">exit</span>,<span class="k"> clear</span>
<span class="k">tab</span> race prev_ki, col nofreq
</pre></div>
</div>
</section>
<section id="some-command-options-take-arguments-describing-the-options">
<h3>3.3.4 Some command options take arguments describing the options<a class="headerlink" href="#some-command-options-take-arguments-describing-the-options" title="Permalink to this heading">#</a></h3>
<div class="highlight-stata notranslate"><div class="highlight"><pre><span></span><span class="k">tab</span> rec_education, <span class="k"> sum</span>(age)
<span class="k">regress</span> wait_yrs age, level(<span class="m">90</span>)
</pre></div>
</div>
</section>
<section id="involving-file-name-usually-preceeded-by-using-or-delimited">
<h3>3.3.5 Involving file name, usually preceeded by <code class="docutils literal notranslate"><span class="pre">using</span></code> or <code class="docutils literal notranslate"><span class="pre">delimited</span></code><a class="headerlink" href="#involving-file-name-usually-preceeded-by-using-or-delimited" title="Permalink to this heading">#</a></h3>
<div class="highlight-stata notranslate"><div class="highlight"><pre><span></span><span class="k">append</span> using transplants<span class="m">.</span>dta
<span class="k">insheet</span> using transplants<span class="m">.</span>txt
</pre></div>
</div>
</section>
<section id="manipulating-data-with-conditional-statements">
<h3>3.3.6 Manipulating data with conditional statements<a class="headerlink" href="#manipulating-data-with-conditional-statements" title="Permalink to this heading">#</a></h3>
<div class="highlight-stata notranslate"><div class="highlight"><pre><span></span><span class="k">count if</span> age <span class="o">&gt;</span> <span class="m">50</span>
<span class="k">list</span> age dx rec_education<span class="k"> in</span> <span class="m">1</span><span class="o">/</span><span class="m">5</span>
</pre></div>
</div>
</section>
<section id="the-log-command">
<h3>3.3.7 The <code class="docutils literal notranslate"><span class="pre">log</span></code> command<a class="headerlink" href="#the-log-command" title="Permalink to this heading">#</a></h3>
<div class="highlight-stata notranslate"><div class="highlight"><pre><span></span><span class="k">log</span> using filename<span class="m">.</span>log,<span class="k"> replace</span> 
<span class="k">use</span> transplants,<span class="k"> clear</span>
<span class="k">log close</span>
</pre></div>
</div>
</section>
<section id="stuff-that-belongs-in-every-do-file">
<h3>3.3.7 Stuff that belongs in every <code class="docutils literal notranslate"><span class="pre">.do</span></code> file<a class="headerlink" href="#stuff-that-belongs-in-every-do-file" title="Permalink to this heading">#</a></h3>
<p>Review the <a class="reference external" href="https://jhustata.github.io/basic/quickrefs.html#datasets-and-supplementary-materials">supplemental .do files</a> for examples</p>
<div class="highlight-stata notranslate"><div class="highlight"><pre><span></span><span class="c1">//log</span>

<span class="c1">//purpose</span>

<span class="c1">//settings</span>

<span class="c1">//code blocks</span>

<span class="c1">//close log</span>
</pre></div>
</div>
</section>
<section id="use-github-to-manage-versions-of-your-do-and-ado-files">
<h3>3.3.8 Use GitHub to manage versions of your <code class="docutils literal notranslate"><span class="pre">.do</span></code> and <code class="docutils literal notranslate"><span class="pre">ado.</span></code> files<a class="headerlink" href="#use-github-to-manage-versions-of-your-do-and-ado-files" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>The days of having filenames such as <code class="docutils literal notranslate"><span class="pre">project.do</span></code>, <code class="docutils literal notranslate"><span class="pre">project_jul12.do</span></code>, <code class="docutils literal notranslate"><span class="pre">project_final.do</span></code> are over</p></li>
<li><p>You’ll only need a <code class="docutils literal notranslate"><span class="pre">project.do</span></code> and update the version with the same name in the same GitHub repo</p></li>
<li><p>Commit statements will keep track of the version history if you make meaningful “commit” statements each time</p></li>
<li><p>Perhaps consider taking the <a class="reference external" href="https://publichealth.jhu.edu/course/38942">Intermediate class</a> for more on this topic</p></li>
</ul>
</section>
<section id="loading-a-file-into-memory">
<h3>3.3.9 Loading a file into memory<a class="headerlink" href="#loading-a-file-into-memory" title="Permalink to this heading">#</a></h3>
<div class="highlight-stata notranslate"><div class="highlight"><pre><span></span><span class="k">use</span> age dx using transplants
<span class="k">use</span> transplants<span class="k"> in</span> <span class="m">1</span><span class="o">/</span><span class="m">50</span>,<span class="k"> clear</span>
<span class="k">use</span> transplants<span class="k"> in</span> <span class="m">44</span>
<span class="k">use</span> transplants<span class="k"> if</span> rec_work<span class="o">==</span><span class="m">1</span>
<span class="k">use</span> a<span class="o">*</span> p<span class="o">*</span> using transplants<span class="k"> in</span> <span class="m">1</span><span class="o">/</span><span class="m">100</span>
</pre></div>
</div>
</section>
<section id="describe">
<h3>3.3.10 Describe<a class="headerlink" href="#describe" title="Permalink to this heading">#</a></h3>
<div class="highlight-stata notranslate"><div class="highlight"><pre><span></span><span class="k">describe</span>
<span class="k">describe</span>, simple
<span class="k">describe</span>, short
<span class="k">describe</span> a<span class="o">*</span>
<span class="k">describe</span> using transplants<span class="m">.</span>dta
<span class="k">describe</span> r<span class="o">*</span>, fullnames
</pre></div>
</div>
</section>
<section id="codebook">
<h3>3.3.12 Codebook<a class="headerlink" href="#codebook" title="Permalink to this heading">#</a></h3>
<div class="highlight-stata notranslate"><div class="highlight"><pre><span></span><span class="k">codebook</span> a<span class="o">*</span><span class="k"> e</span><span class="o">*</span>, compact
<span class="k">codebook</span>, problems
</pre></div>
</div>
</section>
<section id="list">
<h3>3.3.13 List<a class="headerlink" href="#list" title="Permalink to this heading">#</a></h3>
<div class="highlight-stata notranslate"><div class="highlight"><pre><span></span><span class="k">list</span>
<span class="k">list</span> prev_ki wait_yrs<span class="k"> if</span> race<span class="o">==</span><span class="m">9</span>
<span class="k">list</span> <span class="o">*</span>date<span class="k"> in</span> <span class="m">1</span><span class="o">/</span><span class="m">10</span>
<span class="k">list</span> dx<span class="k"> in</span> <span class="m">1</span><span class="o">/</span><span class="m">10</span>, clean noobs
<span class="k">list</span> age, fast
</pre></div>
</div>
</section>
<section id="count">
<h3>3.3.14 Count<a class="headerlink" href="#count" title="Permalink to this heading">#</a></h3>
<div class="highlight-stata notranslate"><div class="highlight"><pre><span></span><span class="k">count</span>
<span class="k">count if</span> rec_work<span class="o">==</span><span class="m">1</span>
<span class="k">count if</span> rec_work<span class="o">!=</span><span class="m">1</span>
<span class="k">count if</span> bmi <span class="o">&lt;</span> <span class="m">20</span>  | bmi <span class="o">&gt;</span> <span class="m">35</span>
<span class="k">count if</span> bmi <span class="o">&gt;</span> <span class="m">25</span> <span class="o">&amp;</span> bmi <span class="o">&lt;</span> <span class="m">30</span><span class="o">&gt;</span>
<span class="k">count if</span> <span class="o">!</span>(age<span class="o">&gt;</span><span class="m">18</span>)
<span class="k">count if</span> <span class="nf">inrange</span>(wait_yrs, <span class="m">4</span>,<span class="m">6</span>)
<span class="k">count if</span> <span class="o">!</span><span class="nf">inlist</span>(gender,<span class="m">0</span>,<span class="m">1</span>)
</pre></div>
</div>
</section>
<section id="tabulate">
<h3>3.3.15 Tabulate<a class="headerlink" href="#tabulate" title="Permalink to this heading">#</a></h3>
<div class="highlight-stata notranslate"><div class="highlight"><pre><span></span><span class="c1">//tabulate</span>
<span class="k">tab</span> abo
<span class="k">tab</span> abo rec_hcv
<span class="k">tab</span> gender,<span class="k"> sum</span>(age)
<span class="k">tab</span> dx gender<span class="k"> if</span> age<span class="o">&lt;</span><span class="m">40</span>
<span class="k">tab</span> dx gender,row
<span class="k">tab</span> dx gender,col nofreq

<span class="k">tab</span> dx gender, col nofreq chi2
<span class="k">return list</span> 
</pre></div>
</div>
</section>
<section id="summarize">
<h3>3.3.16 Summarize<a class="headerlink" href="#summarize" title="Permalink to this heading">#</a></h3>
<div class="highlight-stata notranslate"><div class="highlight"><pre><span></span><span class="c1">//summarize</span>
<span class="k">sum</span>
<span class="k">return list</span> <span class="c1">//not very useful; see schema above</span>

<span class="k">sum</span> age wait_yrs
<span class="k">return list</span> <span class="c1">//much more useful!</span>

<span class="k">sum</span> age wait_yrs, detail
</pre></div>
</div>
</section>
<section id="missingness">
<h3>3.3.17 Missingness<a class="headerlink" href="#missingness" title="Permalink to this heading">#</a></h3>
<div class="highlight-stata notranslate"><div class="highlight"><pre><span></span><span class="c1">//missingness</span>
<span class="k">count if</span> bmi <span class="o">&gt;</span> <span class="m">30</span>
<span class="k">count if</span> bmi <span class="o">&gt;</span> <span class="m">1000</span> <span class="c1">//wha? </span>
<span class="k">sum</span> bmi <span class="c1">//whats going on?</span>
<span class="k">assert</span> <span class="nf">c</span>(N) <span class="o">==</span> <span class="nf">r</span>(N) <span class="c1">//when do these diverge?</span>
<span class="k">tab</span> bmi<span class="k"> if</span> bmi <span class="o">&gt;</span> <span class="m">1000</span>
<span class="k">tab</span> bmi<span class="k"> if</span> bmi <span class="o">&gt;</span> <span class="m">1000</span>, missing

<span class="k">count if</span> bmi<span class="o">==</span>.
<span class="k">count if</span> bmi<span class="o">==</span>.a
<span class="k">count if</span> <span class="nf">missing</span>(bmi)
</pre></div>
</div>
</section>
<section id="generate">
<h3>3.3.18 Generate<a class="headerlink" href="#generate" title="Permalink to this heading">#</a></h3>
<div class="highlight-stata notranslate"><div class="highlight"><pre><span></span><span class="k">gen</span> age_lastyear=age<span class="m">-1</span>
<span class="k">g</span> any_college=(rec_educ<span class="o">&gt;=</span><span class="m">3</span>)
<span class="k">g</span> youngman=(age<span class="o">&lt;</span><span class="m">40</span>) <span class="o">&amp;</span> (gender<span class="o">==</span><span class="m">0</span>)
<span class="k">g</span> byte young=(age<span class="o">&lt;</span><span class="m">30</span>)
<span class="k">g</span> age_f=age<span class="k"> if</span> gender<span class="o">==</span><span class="m">1</span>
<span class="k">g</span> age_spline=(age<span class="o">&gt;</span><span class="m">40</span>)<span class="o">*</span>(age<span class="m">-40</span>)
</pre></div>
</div>
</section>
<section id="more-for-your-practice">
<h3>3.3.19 More for your practice<a class="headerlink" href="#more-for-your-practice" title="Permalink to this heading">#</a></h3>
<div class="highlight-stata notranslate"><div class="highlight"><pre><span></span><span class="c1">//_n and _N</span>
<span class="k">g</span> new_id=_n
<span class="k">gen</span> total_records=_N
<span class="k">g</span> percentile=<span class="m">100</span><span class="o">*</span>_n<span class="o">/</span>_N
</pre></div>
</div>
</section>
<section id="preserve-restore">
<h3>3.3.20 Preserve, restore<a class="headerlink" href="#preserve-restore" title="Permalink to this heading">#</a></h3>
<p>This has briefly been covered in the preceeding section. But lets revisit it:</p>
<div class="highlight-stata notranslate"><div class="highlight"><pre><span></span><span class="c1">//preserve &amp; restore</span>
<span class="k">sum</span> age

<span class="c1">//indentation!</span>
<span class="k">preserve</span>
<span class="k">    drop if</span> age<span class="o">&lt;</span><span class="nf">r</span>(mean)
<span class="k">    sum</span> age
<span class="k">restore</span> 

<span class="k">sum</span> age

<span class="c1">//</span>

<span class="k">di</span> <span class="nf">c</span>(N)

<span class="k">di</span> <span class="nf">c</span>(k)
</pre></div>
</div>
<p>Lets create a <code class="docutils literal notranslate"><span class="pre">disturbance</span></code> to our setup to learn a few additional commands and their value to us:</p>
<div class="highlight-Stata notranslate"><div class="highlight"><pre><span></span><span class="k">qui do</span> https:<span class="o">//</span>raw<span class="m">.</span>githubusercontent<span class="m">.</span>com<span class="o">/</span>jhustata<span class="o">/</span>book<span class="o">/</span>main<span class="o">/</span>sample<span class="o">-</span>keep<span class="m">.</span>ado
</pre></div>
</div>
<p>We’ve just installed a program called <code class="docutils literal notranslate"><span class="pre">samplekeep</span></code>. How do I know its name? You can past the URL into your browser to see the raw content and <code class="docutils literal notranslate"><span class="pre">program</span> <span class="pre">syntax</span></code>.</p>
<p>Focus on the structure of the program:</p>
<div class="highlight-stata notranslate"><div class="highlight"><pre><span></span><span class="k">capture program drop</span> samplekeep
<span class="k">program</span> define samplekeep

<span class="k">	preserve</span> 
	    
       <span class="c1">//code</span>

<span class="k">	restore</span> 
<span class="k">	</span>
<span class="k">end</span>
</pre></div>
</div>
<p>So the .ado program we just installed has code sandwiched between <code class="docutils literal notranslate"><span class="pre">preserve</span></code> and <code class="docutils literal notranslate"><span class="pre">restore</span></code> commands. Let’s executive the program:</p>
<div class="highlight-Stata notranslate"><div class="highlight"><pre><span></span>samplekeep
</pre></div>
</div>
<p>Wow!!</p>
<div class="highlight-stata notranslate"><div class="highlight"><pre><span></span><span class="k">di</span> <span class="nf">c</span>(N)

<span class="k">di</span> <span class="nf">c</span>(k)
</pre></div>
</div>
<p>Does any of this make sense?</p>
</section>
<section id="by-command">
<h3>3.3.21 By command<a class="headerlink" href="#by-command" title="Permalink to this heading">#</a></h3>
<p>Ok, then. It was a temporary disturbance and peace was <code class="docutils literal notranslate"><span class="pre">restored</span></code>!! We will talk more about the <code class="docutils literal notranslate"><span class="pre">preserve</span></code> and <code class="docutils literal notranslate"><span class="pre">restore</span></code> commands, often used together.</p>
<p>Let’s now explore the <code class="docutils literal notranslate"><span class="pre">by</span></code> command</p>
<div class="highlight-stata notranslate"><div class="highlight"><pre><span></span><span class="k">bys</span> abo:<span class="k"> egen</span> age_byabo =<span class="k"> mean</span>(age)
</pre></div>
</div>
<p>Any idea what this command just achieved?</p>
<div class="highlight-stata notranslate"><div class="highlight"><pre><span></span><span class="k">codebook</span> age_byabo
</pre></div>
</div>
<p>What do you notice? Only four unique values! The <code class="docutils literal notranslate"><span class="pre">egen</span></code> command, like the <code class="docutils literal notranslate"><span class="pre">gen</span></code> command is used to define new variables in the dataset. However, the <code class="docutils literal notranslate"><span class="pre">gen</span></code> command applies values at the level of the individual. The <code class="docutils literal notranslate"><span class="pre">egen</span></code> command does so <code class="docutils literal notranslate"><span class="pre">by</span></code> group and yields summary <code class="docutils literal notranslate"><span class="pre">estimates</span></code>. To learn more type <code class="docutils literal notranslate"><span class="pre">h</span> <span class="pre">egen</span></code>.</p>
</section>
<section id="more-on-return-values">
<h3>3.3.22 More on return values<a class="headerlink" href="#more-on-return-values" title="Permalink to this heading">#</a></h3>
<div class="highlight-stata notranslate"><div class="highlight"><pre><span></span><span class="k">qui regress</span> peak_pra prev_ki
<span class="k">local</span> coef_of_det:<span class="k"> di</span> <span class="nx">%3.2f</span><span class="k"> e</span>(r2_a)<span class="o">*</span><span class="m">100</span>

<span class="k">di</span> <span class="s">&quot;History of kidney transplant explains </span><span class="nv">`coef_of_det&#39;</span><span class="s">% of the variance in peak_pra.&quot;</span>
</pre></div>
</div>
<p>From whence does <code class="docutils literal notranslate"><span class="pre">e(r2_a)</span></code> come? Where does it fit into our schema? (Hint: <code class="docutils literal notranslate"><span class="pre">return</span> <span class="pre">list</span></code>, <code class="docutils literal notranslate"><span class="pre">ereturn</span> <span class="pre">list</span></code>, <code class="docutils literal notranslate"><span class="pre">creturn</span> <span class="pre">list</span></code>)</p>
<div class="highlight-stata notranslate"><div class="highlight"><pre><span></span><span class="c1">//lets revisit this </span>
<span class="k">regress</span> age i<span class="m">.</span>abo
<span class="k">lincom</span> _b[<span class="m">3.</span>abo]
</pre></div>
</div>
<p>What blood group has value 3?</p>
<div class="highlight-stata notranslate"><div class="highlight"><pre><span></span><span class="k">return list</span>
<span class="k">di</span> <span class="nx">%3.2f</span> <span class="nf">r</span>(p)
<span class="k">di</span> <span class="nx">%3.2f</span> <span class="nf">r</span>(estimate)
</pre></div>
</div>
<div class="highlight-stata notranslate"><div class="highlight"><pre><span></span><span class="c1">//does this output look familiar?</span>
<span class="k"> lincom</span> _cons <span class="o">+</span> _b[<span class="m">3.</span>abo]
<span class="k"> return list</span> 

<span class="c1">//regression is a fancy way of estimating means for specified groups</span>
<span class="k"> codebook</span> age_byabo
</pre></div>
</div>
<p>Remember to use <code class="docutils literal notranslate"><span class="pre">lincom</span></code> appropriately, depending on what you wish to describe!</p>
<p>After a regression we may type <code class="docutils literal notranslate"><span class="pre">ereturn</span> <span class="pre">list</span></code> for all sorts of estimated values:</p>
<div class="highlight-Stata notranslate"><div class="highlight"><pre><span></span><span class="k">matrix</span> define b =<span class="k"> e</span>(b)
<span class="k">matrix list</span> b
<span class="k">di</span> b[<span class="m">1</span>,<span class="m">3</span>]
</pre></div>
</div>
</section>
<section id="line-continuation">
<h3>3.3.23 Line continuation<a class="headerlink" href="#line-continuation" title="Permalink to this heading">#</a></h3>
<div class="highlight-stata notranslate"><div class="highlight"><pre><span></span><span class="c1">//line continuation</span>

<span class="c1">//Use `///` to make a Stata command span several lines in a .do file</span>

<span class="k">recode</span> race <span class="cs">///</span>
    (<span class="m">1</span>=<span class="m">1</span>) <span class="cs">///</span>
    (<span class="m">2</span>=<span class="m">2</span>) <span class="cs">///</span>
    (<span class="m">4</span> <span class="m">5</span> <span class="m">6</span> <span class="m">7</span> <span class="m">9</span> = <span class="m">9</span>)

<span class="c1">//That is the main-stream approach to line continuation. Ours?</span>

#delimit ;
<span class="k">recode</span> race
    (<span class="m">1</span>=<span class="m">1</span>)
    (<span class="m">2</span>=<span class="m">2</span>)
    (<span class="m">4</span> <span class="m">5</span> <span class="m">6</span> <span class="m">7</span> <span class="m">9</span>)
;
#delimit cr

<span class="c1">//recode+label, with unique line continuation with &quot;delimit&quot;</span>
#delimit ;
<span class="k">recode</span> race 
    (<span class="m">1</span>=<span class="m">0</span> <span class="s">&quot;Cauc&quot;</span>)
    (<span class="m">2</span>=<span class="m">1</span> <span class="s">&quot;AA)</span>
    (<span class="m">4</span>=<span class="m">2</span> <span class="s">&quot;Hisp/Latino&quot;</span>)
    (<span class="m">5</span><span class="o">/</span><span class="m">9</span>=<span class="m">3</span> <span class="s">&quot;Other&quot;</span>),
<span class="k">        gen</span>(race_cat)
;
#delimit cr
</pre></div>
</div>
</section>
<section id="labels">
<h3>3.3.24 Labels<a class="headerlink" href="#labels" title="Permalink to this heading">#</a></h3>
<div class="highlight-stata notranslate"><div class="highlight"><pre><span></span><span class="c1">//labels</span>
<span class="k">describe</span> dx
<span class="k">label var</span> dx <span class="s">&quot;kidney disease diagnosis&quot;</span>

<span class="k">tab</span> gender <span class="c1">//is 1 male or female?</span>
#delimit ;
<span class="k">label</span> define g_label 
    <span class="m">0</span> <span class="s">&quot;0=Male&quot;</span>
    <span class="m">1</span> <span class="s">&quot;1-Female&quot;</span>
;
#delimit cr
<span class="k">label</span> values gender g_label
<span class="k">tab</span> gender <span class="c1">//much better</span>
<span class="k">tab</span> gender, nolabel <span class="c1">//don&#39;t show label</span>

<span class="c1">//or?</span>
<span class="k">g</span> female=gender<span class="o">==</span><span class="m">1</span> <span class="c1">//intuitive meaning of 1 &amp; 0</span>
</pre></div>
</div>
</section>
<section id="tagging">
<h3>3.3.25 Tagging<a class="headerlink" href="#tagging" title="Permalink to this heading">#</a></h3>
<div class="highlight-stata notranslate"><div class="highlight"><pre><span></span><span class="c1">//tagging</span>
<span class="k">list</span> abo gender spread
<span class="k">egen</span> = tag
<span class="k">egen</span> grouptag = tag(abo gender)
<span class="k">list</span> abo gender spread<span class="k"> if</span> grouptag
</pre></div>
</div>
</section>
<section id="drop-keep">
<h3>3.3.26 Drop, Keep<a class="headerlink" href="#drop-keep" title="Permalink to this heading">#</a></h3>
<div class="highlight-stata notranslate"><div class="highlight"><pre><span></span><span class="c1">//drop/keep</span>
<span class="k">keep</span> age gender bmi fake_id ra<span class="o">*</span>
<span class="k">drop</span> end_date
</pre></div>
</div>
</section>
<section id="id1">
<h3>3.3.27 Drop, keep<a class="headerlink" href="#id1" title="Permalink to this heading">#</a></h3>
<div class="highlight-stata notranslate"><div class="highlight"><pre><span></span><span class="c1">//drop/keep</span>
<span class="k">keep</span> age gender bmi fake_id ra<span class="o">*</span>
<span class="k">drop</span> end_date

<span class="c1">//remember: to load the original dataset again</span>
<span class="k">use</span> transplants,<span class="k"> clear</span>
<span class="k">keep in</span> <span class="m">1</span><span class="o">/</span><span class="m">100</span>
<span class="k">drop if</span> wait_yrs<span class="o">&lt;</span><span class="m">1</span>
<span class="k">keep if</span> prev_ki<span class="o">==</span><span class="m">1</span>
<span class="k">drop if</span> age<span class="o">&lt;</span><span class="m">18</span> <span class="o">&amp;</span> abo<span class="o">==</span><span class="m">2</span>
</pre></div>
</div>
</section>
<section id="replace">
<h3>3.3.28 Replace<a class="headerlink" href="#replace" title="Permalink to this heading">#</a></h3>
<div class="highlight-stata notranslate"><div class="highlight"><pre><span></span><span class="c1">//load data again</span>
<span class="k">use</span> transplants,<span class="k"> clear</span>
<span class="k">replace</span> prev=<span class="m">0</span>
<span class="k">replace</span> wait_yrs=<span class="m">5</span><span class="k"> if</span> wait_yrs<span class="o">&gt;</span><span class="m">5</span>
<span class="k">replace</span> gender=gender<span class="m">+1</span>
<span class="k">replace</span> bmi=.<span class="k"> if</span> <span class="o">!</span><span class="nf">inrange</span>(bmi,<span class="m">17</span>,<span class="m">50</span>)
</pre></div>
</div>
</section>
<section id="rename">
<h3>3.3.29 Rename<a class="headerlink" href="#rename" title="Permalink to this heading">#</a></h3>
<div class="highlight-stata notranslate"><div class="highlight"><pre><span></span><span class="c1">//rename</span>
<span class="k">rename</span> age age_at_transplant
<span class="k">rename</span> gender female

<span class="k">use</span> transplants,<span class="k"> clear</span>
<span class="k">rename</span> (age gender)(age_at_transplant female)
</pre></div>
</div>
</section>
<section id="sort-gsort">
<h3>3.3.30 Sort, <code class="docutils literal notranslate"><span class="pre">gsort</span></code><a class="headerlink" href="#sort-gsort" title="Permalink to this heading">#</a></h3>
<div class="highlight-stata notranslate"><div class="highlight"><pre><span></span><span class="c1">//sort, gsort</span>
<span class="k">list in</span> <span class="m">1</span><span class="o">/</span><span class="m">10</span> 
<span class="k">sort</span> age
<span class="k">list in</span> <span class="m">1</span><span class="o">/</span><span class="m">10</span>
<span class="k">sort</span> age dx
<span class="k">list in</span> <span class="m">1</span><span class="o">/</span><span class="m">10</span>
<span class="k">gsort</span> <span class="o">-</span>age dx <span class="o">-</span>race 
<span class="k">list in</span> <span class="m">1</span><span class="o">/</span><span class="m">10</span>
</pre></div>
</div>
</section>
<section id="recode">
<h3>3.3.31 Recode<a class="headerlink" href="#recode" title="Permalink to this heading">#</a></h3>
<div class="highlight-stata notranslate"><div class="highlight"><pre><span></span><span class="c1">//recode</span>
<span class="k">recode</span> rec_education (<span class="m">3</span> <span class="m">4</span> <span class="m">5</span> =<span class="m">9</span>)
<span class="k">recode</span> dx (<span class="m">1</span>=<span class="m">1</span>)(<span class="m">2</span>=<span class="m">2</span>)(<span class="o">*</span>=<span class="m">9</span>)
<span class="k">recode</span> gender (<span class="m">0</span>=<span class="m">1</span>)(<span class="m">1</span>=<span class="m">0</span>),gen(male)

<span class="c1">// recode + label, simultaneously!</span>

<span class="k">recode</span> race <span class="cs">///</span>
    (<span class="m">1</span>=<span class="m">0</span> <span class="s">&quot;Cauc&quot;</span>) <span class="cs">///</span>
    (<span class="m">2</span>=<span class="m">1</span> <span class="s">&quot;AA) ///</span>
    (<span class="m">4</span>=<span class="m">2</span> <span class="s">&quot;Hisp/Latino&quot;</span>) <span class="cs">///</span>
    (<span class="m">5</span><span class="o">/</span><span class="m">9</span>=<span class="m">3</span> <span class="s">&quot;Other&quot;</span>), <span class="cs">///</span>
<span class="k">        gen</span>(race_cat)
</pre></div>
</div>
</section>
<section id="display">
<h3>3.3.32 Display<a class="headerlink" href="#display" title="Permalink to this heading">#</a></h3>
<div class="highlight-stata notranslate"><div class="highlight"><pre><span></span><span class="c1">//display</span>
<span class="k">sum</span> wait_yrs
<span class="k">di</span> <span class="s">&quot;variable&quot;</span> _col(<span class="m">20</span>) <span class="s">&quot;mean&quot;</span>
<span class="k">di</span> <span class="s">&quot;wait time&quot;</span> _col(<span class="m">20</span>) <span class="nf">r</span>(mean)
</pre></div>
</div>
</section>
<section id="capture">
<h3>3.3.33 Capture<a class="headerlink" href="#capture" title="Permalink to this heading">#</a></h3>
<div class="highlight-stata notranslate"><div class="highlight"><pre><span></span><span class="k">capture sum</span> nonexistent_variable
<span class="k">capture di</span> <span class="m">4+3</span>
<span class="k">capture di</span> <span class="m">4</span><span class="o">+</span>
</pre></div>
</div>
</section>
<section id="assert">
<h3>3.3.34 Assert<a class="headerlink" href="#assert" title="Permalink to this heading">#</a></h3>
<div class="highlight-stata notranslate"><div class="highlight"><pre><span></span><span class="c1">//assert </span>
<span class="k">assert</span> age<span class="o">&lt;</span><span class="m">100</span>
<span class="k">assert</span> end_date<span class="o">&gt;=</span>transplant_date
<span class="k">assert</span> <span class="nf">inlist</span>(gender,<span class="m">0</span>,<span class="m">1</span>)
<span class="k">assert</span> <span class="m">2</span><span class="o">&lt;</span><span class="m">1</span>
<span class="k">assert</span> <span class="m">0</span>
<span class="k">assert</span> <span class="nf">c</span>(edition_real)<span class="o">==</span><span class="s">&quot;BE&quot;</span>
<span class="k">assert</span> <span class="nf">c</span>(edition_real)<span class="o">==</span><span class="s">&quot;MP&quot;</span>
</pre></div>
</div>
</section>
<section id="scalars-macros-matrices">
<h3>3.3.35 Scalars, macros, matrices<a class="headerlink" href="#scalars-macros-matrices" title="Permalink to this heading">#</a></h3>
<p>Saved results can be either of the following:</p>
<ul class="simple">
<li><p>Scalars (numbers)</p></li>
<li><p>Macros (numbers, string, or both)</p></li>
<li><p>Matrices (lists or tables of numbers)</p></li>
</ul>
<div class="highlight-stata notranslate"><div class="highlight"><pre><span></span><span class="k">sum</span> bmi, detail
<span class="k">disp</span> <span class="s">&quot;median: &quot;</span> _col(<span class="m">12</span>) <span class="nf">r</span>(p50)
<span class="k">disp</span> <span class="s">&quot;IQR: &quot;</span> _col(<span class="m">12</span>) <span class="nf">r</span>(p25) <span class="s">&quot;-&quot;</span> <span class="nf">r</span>(p75)<span class="k"> disp</span> <span class="s">&quot;kurtosis: &quot;</span> _col(<span class="m">12</span>) <span class="nf">r</span>(kurtosis)
</pre></div>
</div>
<p>A command that saves results in <code class="docutils literal notranslate"><span class="pre">r()</span></code> is said to be an “r-class command”</p>
</section>
<section id="id2">
<h3>3.3.36 Scalars, macros, matrices<a class="headerlink" href="#id2" title="Permalink to this heading">#</a></h3>
<p>Saved results can be either of the following:</p>
<ul class="simple">
<li><p>Scalars (numbers)</p></li>
<li><p>Macros (numbers, string, or both)</p></li>
<li><p>Matrices (lists or tables of numbers)</p></li>
</ul>
<div class="highlight-stata notranslate"><div class="highlight"><pre><span></span><span class="k">sum</span> bmi, detail
<span class="k">disp</span> <span class="s">&quot;median: &quot;</span> _col(<span class="m">12</span>) <span class="nf">r</span>(p50)
<span class="k">disp</span> <span class="s">&quot;IQR: &quot;</span> _col(<span class="m">12</span>) <span class="nf">r</span>(p25) <span class="s">&quot;-&quot;</span> <span class="nf">r</span>(p75)<span class="k"> disp</span> <span class="s">&quot;kurtosis: &quot;</span> _col(<span class="m">12</span>) <span class="nf">r</span>(kurtosis)
</pre></div>
</div>
<p>A command that saves results in <code class="docutils literal notranslate"><span class="pre">r()</span></code> is said to be an “r-class command”</p>
</section>
<section id="r-class-commands">
<h3>3.3.37 R-class commands<a class="headerlink" href="#r-class-commands" title="Permalink to this heading">#</a></h3>
<div class="highlight-stata notranslate"><div class="highlight"><pre><span></span><span class="k">summarize</span>
<span class="k">tabulate</span>
<span class="k">describe</span>
<span class="k">codebook</span>
<span class="k">count</span>
<span class="k">duplicates</span>
<span class="k">compare</span>
<span class="k">correlate</span>
<span class="k">lincom</span>
<span class="k">test</span>
<span class="k">roctab</span>
<span class="k">sample</span> 
<span class="k">centile</span>
<span class="c1">//etc</span>
</pre></div>
</div>
<p>Type <code class="docutils literal notranslate"><span class="pre">return</span> <span class="pre">list</span></code> after running one of these commands and see what you get</p>
</section>
</section>
<section id="lab">
<h2>3.4 Lab<a class="headerlink" href="#lab" title="Permalink to this heading">#</a></h2>
<p>Use the <code class="docutils literal notranslate"><span class="pre">transplants.dta</span></code> dataset with these practice questions:</p>
<ol class="arabic simple">
<li><p>Calculate the standard deviation of age among patients with blood type O (<code class="docutils literal notranslate"><span class="pre">abo==4</span></code>). Print the following sentence: <code class="docutils literal notranslate"><span class="pre">The</span> <span class="pre">SD</span> <span class="pre">of</span> <span class="pre">age</span> <span class="pre">among</span> <span class="pre">patients</span> <span class="pre">with</span> <span class="pre">blood</span> <span class="pre">type</span> <span class="pre">O</span> <span class="pre">is</span> <span class="pre">XX.X</span></code>. Replace <code class="docutils literal notranslate"><span class="pre">XX</span></code> with correct values. Round to tenths (e.g. 8.2)<a class="reference internal" href="lab3sol.html"><span class="doc std std-doc">.</span></a></p></li>
<li><p>Regress BMI on age and sex (using <code class="docutils literal notranslate"><span class="pre">regress</span> <span class="pre">bmi</span> <span class="pre">age</span> <span class="pre">gender</span></code>) without displaying the regression output. Print the following sentence: <code class="docutils literal notranslate"><span class="pre">Per</span> <span class="pre">1-year</span> <span class="pre">increase</span> <span class="pre">in</span> <span class="pre">age,</span> <span class="pre">BMI</span> <span class="pre">increases</span> <span class="pre">by</span> <span class="pre">X.XX</span></code>. Replace <code class="docutils literal notranslate"><span class="pre">XX</span></code> with the regression coefficient of age. Round to hundredths (e.g. 0.74). Review week 3.3 Miscellany: <a class="reference external" href="https://jhustata.github.io/basic/chapter3.html#more-on-return-values">3.3.22 More on return values</a> on how to extract <code class="docutils literal notranslate"><span class="pre">r()</span></code> class return values following a regression.</p></li>
<li><p>Now we will do the same thing, but using a program. Define a program named <code class="docutils literal notranslate"><span class="pre">bmi_age</span></code>. This program will regress BMI on age and sex without displaying the regression output, and print: <code class="docutils literal notranslate"><span class="pre">Per</span> <span class="pre">1-year</span> <span class="pre">increase</span> <span class="pre">in</span> <span class="pre">age,</span> <span class="pre">BMI</span> <span class="pre">increases</span> <span class="pre">by</span> <span class="pre">X.XX</span></code>. Replace <code class="docutils literal notranslate"><span class="pre">XX</span></code> with the regression coefficient of <code class="docutils literal notranslate"><span class="pre">age</span></code>. Round to hundredths (e.g. 0.74).</p></li>
<li><p>Let’s consider how you may allow the user of <code class="docutils literal notranslate"><span class="pre">bmi_age</span></code> to utilize this program on a dataset with any variable name</p></li>
</ol>
</section>
<section id="homework">
<h2>3.5 Homework<a class="headerlink" href="#homework" title="Permalink to this heading">#</a></h2>
<section id="overview">
<h3>Overview<a class="headerlink" href="#overview" title="Permalink to this heading">#</a></h3>
<p>Write a <code class="docutils literal notranslate"><span class="pre">.do</span> <span class="pre">file</span></code> which imports data from <a class="reference external" href="https://jhustata.github.io/book/_downloads/884b9e06eb29f89b1b87da4eab39775d/hw1.txt">hw1.txt</a> and performs the tasks described below. Name it <code class="docutils literal notranslate"><span class="pre">hw3.lastname.firstname.do</span></code> and it should create a log file called <code class="docutils literal notranslate"><span class="pre">hw1.lastname.firstname.log</span></code>. Please avoid some of the common mistakes we observed in your HW1. While you didn’t drop points for those mistakes as beginners, you’ll drop some points in HW3 if you repeat these mistakes. Make sure your log file displays only the output of interest. But do not submit your log files as part of the assignment.</p>
<p>Evaluation will be based on the log file produced when we run your script on our machines.</p>
<p>Codebook</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>Variable</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Values</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>transplants.dta</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">fake_id</span></code></p></td>
<td><p>Patient ID</p></td>
<td><p>Numeric</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">bmi</span></code></p></td>
<td><p>Body mass index (kg/m2)</p></td>
<td><p>Numeric</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">dx</span></code></p></td>
<td><p>Primary diagnosis</p></td>
<td><p>String (see dataset)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">init_age</span></code></p></td>
<td><p>Age</p></td>
<td><p>Numeric</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">prev</span></code></p></td>
<td><p>History of previous transplant</p></td>
<td><p>0=No / 1=Yes</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">peak_pra</span></code></p></td>
<td><p>Peak PRA</p></td>
<td><p>Numeric</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">female</span></code></p></td>
<td><p>Sex</p></td>
<td><p>0=No / 1=Yes</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">received_kt</span></code></p></td>
<td><p>Patient eventually received a kidney transplant?</p></td>
<td><p>0=No / 1=Yes</p></td>
</tr>
</tbody>
</table>
<p>This dataset contains simulated data on registrants for the deceased donor kidney waitlist.</p>
<p><strong>Question 1.</strong> Create a new numeric variable named <code class="docutils literal notranslate"><span class="pre">htn</span></code>, which takes a value of 1 if the variable <code class="docutils literal notranslate"><span class="pre">dx</span></code> has a value of <code class="docutils literal notranslate"><span class="pre">4=Hypertensive</span></code>, and <code class="docutils literal notranslate"><span class="pre">0</span></code> otherwise. This variable should have value labels, <code class="docutils literal notranslate"><span class="pre">Yes</span></code> for 1 and <code class="docutils literal notranslate"><span class="pre">No</span></code> for 0. (Hint: what is the data type of this new variable? Is it a numeric or a string?) Run <code class="docutils literal notranslate"><span class="pre">tab</span> <span class="pre">htn</span></code> in your assignment do-file so that it would print the following result.</p>
<div class="highlight-stata notranslate"><div class="highlight"><pre><span></span>        htn |       Freq.       Percent       Cum.
<span class="o">------------+-------------------------------------</span>
         No |       XXXX        XXXX          XXXX
        Yes |       XXXX        XXXX          XXXX
<span class="o">------------+-------------------------------------</span>
      Total |       XXXX        XXXX
</pre></div>
</div>
<p><strong>Question 2</strong>. Create your first automated Table 1! Write a program called <code class="docutils literal notranslate"><span class="pre">question2</span></code> that prints the following table (including <code class="docutils literal notranslate"><span class="pre">Question</span> <span class="pre">2</span></code> in the header). The <code class="docutils literal notranslate"><span class="pre">XX</span></code> values should be replaced with correct values found in the dataset, and should be rounded to the nearest whole number for age and to <u>one decimal place</u> to the right of the decimal point for other variables. Make sure the summary statistics are vertically aligned and justified along the left margin. Run your program and display the table on your results window, in your <code class="docutils literal notranslate"><span class="pre">.log</span></code> file, and in a <code class="docutils literal notranslate"><span class="pre">question2.xlsx</span></code>. (The key challenge: reporting continuous and binary variables. Next week we’ll include categorical variables)</p>
<div class="highlight-stata notranslate"><div class="highlight"><pre><span></span>Question <span class="m">2</span>                Males (N=XX)        Females (N=XX)
Age,<span class="k"> median</span> (IQR)         XX (XX<span class="o">-</span>XX)          XX (XX<span class="o">-</span>XX)
Previous transplant, %    XX<span class="m">.</span>X               XX<span class="m">.</span>X
</pre></div>
</div>
<p>To align output on your Stata results window, and thus in your <code class="docutils literal notranslate"><span class="pre">.log</span></code> file, you may use the column <code class="docutils literal notranslate"><span class="pre">_col()</span></code> syntax. Use the example below as a guide</p>
<div class="highlight-stata notranslate"><div class="highlight"><pre><span></span><span class="k">local</span> study_arms:<span class="k"> di</span> _col(<span class="m">30</span>) <span class="s">&quot;Trial&quot;</span> _col(<span class="m">60</span>) <span class="s">&quot;Control&quot;</span>
<span class="k">di</span> <span class="s">&quot;</span><span class="nv">`study_arms&#39;</span><span class="s">&quot;</span>
</pre></div>
</div>
</section>
<section id="common-mistakes-from-hw1">
<h3>Common Mistakes from HW1<a class="headerlink" href="#common-mistakes-from-hw1" title="Permalink to this heading">#</a></h3>
<details>
   <Summary></Summary>
<ol class="arabic simple">
<li><p>Your first line of code should create a <code class="docutils literal notranslate"><span class="pre">.log</span></code> file &amp; your last line should close it</p></li>
<li><p>Do not use <code class="docutils literal notranslate"><span class="pre">exit</span></code> at end of the <code class="docutils literal notranslate"><span class="pre">.do</span></code> files you submit since it closes Stata on our machines</p></li>
<li><p>May not be necessary to use <code class="docutils literal notranslate"><span class="pre">clear</span> <span class="pre">all</span></code> when <code class="docutils literal notranslate"><span class="pre">clear</span></code> suffices</p></li>
<li><p>When you load a dataset, always include the option <code class="docutils literal notranslate"><span class="pre">clear</span></code> in case there is another dataset in memory</p></li>
<li><p><strong>Always</strong> run your .do files more than once before submission to uncover subtle omissions like <code class="docutils literal notranslate"><span class="pre">capture</span> <span class="pre">log</span> <span class="pre">close</span></code>, <code class="docutils literal notranslate"><span class="pre">clear</span></code>, <code class="docutils literal notranslate"><span class="pre">log</span> <span class="pre">close</span></code>, etc</p></li>
<li><p>Never use absolute file paths to call files on your machine; these paths don’t exist on our machines. Assume we are working in the directory with the necessary file</p></li>
<li><p>For the same reason, do not use the <code class="docutils literal notranslate"><span class="pre">cd</span></code> command in your .do files</p></li>
<li><p>In grading HW3 and beyond, you’ll drop some points if you neglect these tips</p></li>
<li><p>Please <strong>do not</strong> submit <code class="docutils literal notranslate"><span class="pre">.log</span></code>, <code class="docutils literal notranslate"><span class="pre">.pdf</span></code>, <code class="docutils literal notranslate"><span class="pre">.docx</span></code>, or any other files formats. We are only interested in your <code class="docutils literal notranslate"><span class="pre">.do</span></code> files</p></li>
</ol>
</details></section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="chapter2.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">2. Return values, macros, programs</p>
      </div>
    </a>
    <a class="right-next"
       href="chapter4.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">4. Advanced file management</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#loops">3.1 Loops</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#forvalues">3.1.1 Forvalues</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#what-this-does">What This Does</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#why-it-s-useful">Why It’s Useful</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#but-here-s-the-catch">But Here’s the Catch</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#foreach">3.1.2 Foreach</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#program-syntax">3.2 Program Syntax</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#myfirst">3.2.1 myfirst</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mysecond">3.2.2 mysecond</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mythird">3.2.3 mythird</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#myfourth">3.2.4. myfourth</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#miscellany">3.3 Miscellany</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#data-formats-and-corresponding-commands">3.3.0 Data formats and corresponding commands</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#xlxs"><code class="docutils literal notranslate"><span class="pre">.xlxs</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#csv"><code class="docutils literal notranslate"><span class="pre">.csv</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sav"><code class="docutils literal notranslate"><span class="pre">.sav</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sas7bdat"><code class="docutils literal notranslate"><span class="pre">.sas7bdat</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#jdbc">JDBC</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#obdc">OBDC</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#txt"><code class="docutils literal notranslate"><span class="pre">.txt</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#v8xpt-xpt"><code class="docutils literal notranslate"><span class="pre">.v8xpt</span></code>, <code class="docutils literal notranslate"><span class="pre">.xpt</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#fred">FRED</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#dbf"><code class="docutils literal notranslate"><span class="pre">.dbf</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#commands-that-run-without-additional-syntax">3.3.1 Commands that run without additional syntax</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#anatomy-of-a-command-with-syntax">3.3.2 Anatomy of a command with syntax</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#taking-on-one-or-more-options">3.3.3 Taking on one or more options</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#some-command-options-take-arguments-describing-the-options">3.3.4 Some command options take arguments describing the options</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#involving-file-name-usually-preceeded-by-using-or-delimited">3.3.5 Involving file name, usually preceeded by <code class="docutils literal notranslate"><span class="pre">using</span></code> or <code class="docutils literal notranslate"><span class="pre">delimited</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#manipulating-data-with-conditional-statements">3.3.6 Manipulating data with conditional statements</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-log-command">3.3.7 The <code class="docutils literal notranslate"><span class="pre">log</span></code> command</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#stuff-that-belongs-in-every-do-file">3.3.7 Stuff that belongs in every <code class="docutils literal notranslate"><span class="pre">.do</span></code> file</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#use-github-to-manage-versions-of-your-do-and-ado-files">3.3.8 Use GitHub to manage versions of your <code class="docutils literal notranslate"><span class="pre">.do</span></code> and <code class="docutils literal notranslate"><span class="pre">ado.</span></code> files</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#loading-a-file-into-memory">3.3.9 Loading a file into memory</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#describe">3.3.10 Describe</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#codebook">3.3.12 Codebook</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#list">3.3.13 List</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#count">3.3.14 Count</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tabulate">3.3.15 Tabulate</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#summarize">3.3.16 Summarize</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#missingness">3.3.17 Missingness</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#generate">3.3.18 Generate</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#more-for-your-practice">3.3.19 More for your practice</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#preserve-restore">3.3.20 Preserve, restore</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#by-command">3.3.21 By command</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#more-on-return-values">3.3.22 More on return values</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#line-continuation">3.3.23 Line continuation</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#labels">3.3.24 Labels</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tagging">3.3.25 Tagging</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#drop-keep">3.3.26 Drop, Keep</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">3.3.27 Drop, keep</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#replace">3.3.28 Replace</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#rename">3.3.29 Rename</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sort-gsort">3.3.30 Sort, <code class="docutils literal notranslate"><span class="pre">gsort</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#recode">3.3.31 Recode</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#display">3.3.32 Display</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#capture">3.3.33 Capture</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#assert">3.3.34 Assert</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#scalars-macros-matrices">3.3.35 Scalars, macros, matrices</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">3.3.36 Scalars, macros, matrices</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#r-class-commands">3.3.37 R-class commands</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#lab">3.4 Lab</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#homework">3.5 Homework</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#overview">Overview</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#common-mistakes-from-hw1">Common Mistakes from HW1</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Abimereki Muzaale
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2024.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>